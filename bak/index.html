<html>
<head>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,user-scalable=no" />
	<title>match</title>
	<link rel="stylesheet" type="text/css" href="css/swiper.min.css">
  <link rel="stylesheet" type="text/css" href="css/page.css">
	<script src="js/zepto.min.js" type="text/javascript"></script>

</head>
<body>
<div class="b1">
  <div class="nav">
  	<a class="back" href="#" data-highlight=false><img src="image/icon_back.png" width=12 height=22></a>
  	<a class="share" href="#" data-highlight=false><img src="image/icon_share.png" width=17 height23 ></a>
  </div>
  <div class="mark">
  	<img src="image/logo.png" width=13%>
  	<span>WAGC</span>
  </div>
  <div class="intro clearfix" >
  	<p>简介：WAGC2016年3月29日，2016WAGC（中国）开杆大典正式开始，来自海外的哈哈哈哈</p>
  	<span class="out">展开</span>
  	<span class="in">收起</span>
  </div>
  <script type="text/javascript">
  (function($){
    if($('.intro p').height() > 38){
      $('.intro p').css('-webkit-line-clamp','2');
      $('.intro .out').show();
    }
  }(Zepto))
  </script>
  <div class="focus swiper-container">
    <div class="swiper-wrapper">      
      <div class="swiper-slide">
        <a href="#1">
        	<img src="image/slide1.jpg" >
          <div class="modal"> 
          </div>
          <div class="modalword">
              <p class="l1">WAGC</p>
              <p class="l2">队员欢庆共享皇冠盛誉</p>
              <p class="l3">- 5张 -</p>
          </div>
        </a>
      </div>   
      <div class="swiper-slide">
        <a href="#2">
      	  <img src="image/slide2.jpg" >
          <div class="modal">  
          </div>
          <div class="modalword">
              <p class="l1">WAGC</p>
              <p class="l2">队员欢庆共享皇冠盛誉</p>
              <p class="l3">- 5张 -</p>
            </div>
        </a>
      </div>
      <div class="swiper-slide">
        <a href="#3">
      	<img src="image/slide1.jpg" >
        <div class="modal">
        </div>
         <div class="modalword">
            <p class="l1">WAGC</p>
            <p class="l2">队员欢庆共享皇冠盛誉</p>
            <p class="l3">- 5张 -</p>
          </div>
          </a>
      </div>
      <div class="swiper-slide">
        <a href="#4">
      	<img src="image/slide2.jpg" >
        <div class="modal">
          </div>
            <div class="modalword">
              <p class="l1">WAGC</p>
              <p class="l2">队员欢庆共享皇冠盛誉</p>
              <p class="l3">- 5张 -</p>
            </div>
          </a>
      </div>
      <div class="swiper-slide">
        <a href="#5">
      	<img src="image/slide1.jpg" >
        <div class="modal">
          </div>
            <div class="modalword">
              <p class="l1">WAGC</p>
              <p class="l2">队员欢庆共享皇冠盛誉</p>
              <p class="l3">- 5张 -</p>
            </div>
          </a>
      </div>
    </div>
  </div>
  <script type="text/javascript">
  /*
  *  根据不同屏幕宽度动态调整swiper组件的宽度和高度
  */
    (function($){
      var width = document.body.clientWidth;
      var setValue = Math.round(150/375*width);
      $('.focus').css('height',setValue+'px');
      $('.focus .swiper-slide').css('width',setValue+'px');
      $('.focus .swiper-slide img').css('width',setValue+'px');
    }(Zepto))
  </script>

</div>
<div class="b2 js_tap">
  <div class="tapModal"></div>
  <a class href="#">
<div class="b2in">
  <div class="online">
    <img class="mainpic" src="image/online.jpg" >
    <div class="onlineword">
      <p class="title">WAGC </p>
      <p class="subtitle wordEllipsis2">毛里求斯公开赛第一轮</p>
      <p class="time">今天 07:08</p>
      <img class="enter" src="image/button.png">
    </div>
  </div>
  <div class="location">
    <img src="image/location.png">
    <span>北京国际高尔夫俱乐部</span>
  </div>
</div>
</a>
</div>

<div class="b3">
  <div class="title">
    热门新闻
  </div>   
  <div class="content">
    <a href="#" class="a_click">
      <div class="outer js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <div class="inner border-1px-up">
          <div class="news">
          <img class="mainpic" src="image/news1.jpg">
          <div class="word">
            <div class="pack">
              <p class="title1 wordEllipsis2">中国代表队4人接力项目由于中国小将临时脚踝扭伤导致失利</p>
              <p class="time">5分钟前</p>
            </div>
          </div>
        </div>
        </div>
      </div>
    </a>

    <a href="#" class="a_click">
      <div class="outer js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <div class="inner border-1px-up border-1px-down">
          <div class="news">
          <img class="mainpic" src="image/news2.jpg">
          <div class="word">
            <div class="pack">
              <p class="title1 wordEllipsis2">中国代表队4人接力项目由于中国小将临时脚踝扭伤导致失利</p>
              <p class="time">5分钟前</p>
            </div>
          </div>
        </div>
        </div>
      </div>
    </a>
    <p class="subtitle wordEllipsis1">中国代表队4人接力项目由于中国小将临时</p>
    <div class="piclist">
      <div class="picout js_tap" data-highlight=false>
         <div class="tapModal"></div>
         <a href="#">
           <img class="pic" src="image/news5.jpg">
         </a>
      </div>
      <div class="picout js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <a href="#">
          <img class="pic" src="image/news4.jpg">
        </a>
      </div>
      <div class="picout js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <a href="#">
           <img class="pic" src="image/news5.jpg">
        </a>  
      </div>
    </div>
    <div class="slideout">
     <div class="slide swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide js_tap">
          <a href="#" class="a_click">
            <img src="image/slide.jpg">
            <div class="tapModal"></div>
          </a>
          
        </div>
        <div class="swiper-slide js_tap">
          <a href="#" class="a_click">
            <img src="image/slide.jpg">
            <div class="tapModal"></div>
          </a>
         
        </div>
        <div class="swiper-slide js_tap">    
          <a href="#" class="a_click">
            <img src="image/slide.jpg">
            <div class="tapModal"></div>
          </a>
         
        </div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
   </div>
    <script type="text/javascript">
      (function($){
        var width = document.body.clientWidth;
        var setValue = Math.round(120/375*width);
        $('.slide').css('height',setValue+'px');
      }(Zepto))
    </script>

    <a href="#" class="a_click">
      <div class="outer js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <div class="inner  border-1px-down">
          <div class="news">
          <img class="mainpic" src="image/news2.jpg">
          <div class="word">
            <div class="pack">
              <p class="title1 wordEllipsis2">中国代表队4人接力项目由于中国小将临时脚踝扭伤导致失利</p>
              <p class="time">5分钟前</p>
            </div>
          </div>
        </div>
        </div>
      </div>
    </a>

    <a href="#" class="a_click">
      <div class="outer js_tap" data-highlight=false>
      <div class="tapModal"></div>
      <div class="inner  border-1px-down">
        <div class="news">
        <img class="mainpic" src="image/news2.jpg">
        <div class="word">
          <div class="pack">
            <p class="title1 wordEllipsis2">中国代表队4人接力项目由于中国小将临时脚踝扭伤导致失利</p>
            <p class="time">5分钟前</p>
          </div>
        </div>
      </div>
      </div>
      </div>
    </a>
    <p class="subtitle wordEllipsis1">中国代表队4人接力项目由于中国小将临时</p>
     <div class="piclist">
      <div class="picout js_tap" data-highlight=false>
         <div class="tapModal"></div>
         <a href="#">
           <img class="pic" src="image/news5.jpg">
         </a>
      </div>
      <div class="picout js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <a href="#">
          <img class="pic" src="image/news4.jpg">
        </a>
      </div>
      <div class="picout js_tap" data-highlight=false>
        <div class="tapModal"></div>
        <a href="#">
           <img class="pic" src="image/news5.jpg">
        </a>  
      </div>
    </div>
  </div>
</div>


<script src="js/swiper.min.js" type="text/javascript"></script>
<script src="js/touch.js" type="text/javascript"></script>
<script type="text/javascript">
  $(document).ready(function(){
    var $tap = document.querySelectorAll('.js_tap');
    var tapTimer;
    var in_out_init = function(){
        $('.intro span').tap(function(e){ 
        if(e.target.className == "out"){        
          $('.intro p').css('-webkit-line-clamp','100').css('text-align','justify');
          $('.intro .out').hide();
          $('.intro .in').show();
        }else if(e.target.className="in"){
          $('.intro p').css('-webkit-line-clamp','2').css('text-align','');
          $('.intro .in').hide();
          $('.intro .out').show();
        }
       });
    };  //end in_out_init

    var event_init = function(){

      $('.focus .swiper-slide').on('touchstart',function(){
        $(this).data('highlight',true);
        var _this = $(this);
        tapTimer = setTimeout(function(){
          _this.find('.modal').hide();
          _this.find('.modalword').hide(); 
        },100) 
       
     })
      $('.focus .swiper-slide').on('touchmove',function(){
        if($(this).data('highlight')){
          clearTimeout(tapTimer);
          $(this).data('highlight',false);
          $(this).find('.modal').show();
          $(this).find('.modalword').show();
        }
     })

      $('.focus .swiper-slide').on('touchend',function(){
        if($(this).data('highlight')){
          clearTimeout(tapTimer);
          $(this).data('highlight',false);
          $(this).find('.modal').show();
          $(this).find('.modalword').show();
        }
     })

      //页顶icon点击态
      $('.back').on('touchstart',function(){
        $(this).data('highlight',true).find('img').attr('src',"image/icon_back_s.png");
      });
      $('.back').on('touchmove',function(){
        if($(this).data('highlight')){
         // console.log('hide back')
          $(this).data('highlight',false).find('img').attr('src',"image/icon_back.png");
        }      
      });
      $('.back').on('touchend',function(){
        if($(this).data('highlight')){
          $(this).data('highlight',false).find('img').attr('src',"image/icon_back.png");
        }

      });

      $('.share').on('touchstart',function(){
        $(this).data('highlight',true).find('img').attr('src',"image/icon_share_s.png");
      });
      $('.share').on('touchmove',function(){
        if($(this).data('highlight')){
          $(this).data('highlight',false).find('img').attr('src',"image/icon_share.png");
        }
      });

      $('.share').on('touchend',function(){
        if($(this).data('highlight')){
          $(this).data('highlight',false).find('img').attr('src',"image/icon_share.png");
        }
      });
       //页顶icon点击态end

    };  //end event_init

    var swiper_init = function(){
       var swiper = new Swiper('.focus',{
        slidesPerView:'auto',
        spaceBetween: 7
       })
       var swiper1 = new Swiper('.slide',{
        slidesPerView:'auto',
        pagination: '.swiper-pagination',
        spaceBetween: 10
       })
    }//end swiper_init

    var tap_status_init = function(){
      var touchStartHandler = function(e){
        console.log('touchstart');
        $(this).data('highlight',true);
        var _this = $(this);
        tapTimer = setTimeout(function(){
          _this.find('.tapModal').show();
        },100)
      };

      var touchMoveHandler = function(e){
        
        if($(this).data('highlight')){
          console.log('touchmve removehighlight')
          clearTimeout(tapTimer);
          $(this).data('highlight',false).find('.tapModal').hide();
        }
      }
      var touchEndHandler = function(e){
        
        if($(this).data('highlight')){
          console.log('touchend removehighlight');
          clearTimeout(tapTimer);
          $(this).data('highlight',false).find('.tapModal').hide();
        }
      }
      for(var i=0; i<$tap.length;i++){
        $tap[i].addEventListener('touchstart',touchStartHandler);
        $tap[i].addEventListener('touchmove',touchMoveHandler);
        $tap[i].addEventListener('touchend',touchEndHandler);
      }
      
    }

    var main = function(){
      in_out_init();
      event_init();
      swiper_init();
      tap_status_init();
    }

    main();

  })



</script>
 
 <div style="display:none;">
  <script type="text/javascript">
      var images= new Array();
      function preload(){
        for(i=0; i<preload.arguments.length;i++){
          images[i] = new Image();
          images[i].src = preload.arguments[i];
        }
      }
      preload(
        "image/icon_back_s.png",
        "image/icon_share_s.png"
        )
  </script>
 </div> 



</body>
</html>